(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{357:function(t,a,s){"use strict";s.r(a);var e=s(43),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Vue Router (called VR in the following) is deeply integrated with Vue. And it's more and more important as Vue develops. In order to apply Vue more efficiently, I have learnt VR in recent days and write this article aiming to clear my thoughts and digest it.")]),t._v(" "),s("p",[t._v("One main purpose of VR is to tell Vue to render what components when navigate to some route. And finally  the navigator performs a page to the client. So how the comps and route match is defined by the view structure.")]),t._v(" "),s("h4",{attrs:{id:"view-with-one-comp-matching-different-routes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#view-with-one-comp-matching-different-routes"}},[t._v("#")]),t._v(" view with one comp matching different routes")]),t._v(" "),s("p",[t._v("VR uses dynamic segment in path to achieve that:")]),t._v(" "),s("p",[s("code",[t._v("{path: '/user/:id', component: User}")])]),t._v(" "),s("p",[t._v("This "),s("code",[t._v(":id")]),t._v("  part is dynamic. We replace it with various values to represent different users, but reuse the comp "),s("code",[t._v("User")]),t._v(" for rendering. And the dynamic part of path can be access to "),s("code",[t._v("$route.params.id")]),t._v(" in the corresponding comp.  That means, when the "),s("code",[t._v("params")]),t._v(" differs,  the route lifecycle hooks of Vue won't be called because the comp is never destroyed.")]),t._v(" "),s("h4",{attrs:{id:"views-with-multiple-comps-without-nesting-structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#views-with-multiple-comps-without-nesting-structure"}},[t._v("#")]),t._v(" views with multiple comps without nesting structure")]),t._v(" "),s("p",[t._v("Sometimes, a page contains several comps to display full information. And these comps have equal weights, they are all brothers. For this, VR provides a handy function, "),s("code",[t._v("named views")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--html--\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("router-view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("router-view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("router-view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// javascript")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// make sure that it's componentS")]),t._v("\n  components"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Footer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ready for the unnamed view")]),t._v("\n  \tbar"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \theader"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Header\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"views-with-several-nested-comps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#views-with-several-nested-comps"}},[t._v("#")]),t._v(" views with several nested comps")]),t._v(" "),s("p",[t._v("If a view needs a father comp to wrap its children comps, it's what "),s("code",[t._v("nested routes")]),t._v(" comes for.")]),t._v(" "),s("p",[t._v("You put a "),s("code",[t._v("<router-view>")]),t._v(" tag in a comp matching route "),s("code",[t._v("'/user/:id'")]),t._v(", then you could render the children "),s("code",[t._v("<router-view>")]),t._v("  with "),s("code",[t._v("children")]),t._v(" config:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user/:id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" User"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  children"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'profile'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Profile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'works'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Works"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\t\t\n")])])]),s("p",[t._v("Keep that in mind: VR will treat "),s("code",[t._v("/")]),t._v(" as a root path.")]),t._v(" "),s("p",[t._v("Ok, let's get to the second part: passing values with routes. I summarize four kinds of passing values in VR: "),s("code",[t._v("params")]),t._v(", "),s("code",[t._v("props")]),t._v(", "),s("code",[t._v("query")]),t._v(", "),s("code",[t._v("metas")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"passing-values-params"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#passing-values-params"}},[t._v("#")]),t._v(" passing values: params")]),t._v(" "),s("p",[t._v("When using dynamic routes as metioned above, "),s("code",[t._v(":params")]),t._v(" part could be available in "),s("code",[t._v("$route.params")]),t._v(". But there is one flaw: it makes the comp has a tight bond with the route. To fix it, we come to the next way passing values: props.")]),t._v(" "),s("h4",{attrs:{id:"passing-values-props"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#passing-values-props"}},[t._v("#")]),t._v(" passing values: props")]),t._v(" "),s("p",[t._v("There are there modes: Boolean, Object and Function. They all end up with "),s("code",[t._v("props")]),t._v(" property in comps.")]),t._v(" "),s("p",[t._v("In the above case, we could use Boolean mode. Dynamic part will be transformed to "),s("code",[t._v("props")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// route configuration")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user/:id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" User"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// in User instance")]),t._v("\nprops"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("In Object mode, the props object in path will be set as "),s("code",[t._v("props")]),t._v(" in comps.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" User"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" props"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// configuration")]),t._v("\nprops"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// instance")]),t._v("\n")])])]),s("p",[t._v("Function mode means props config in path is a function, which takes the  "),s("code",[t._v("route")]),t._v("  as argument and returns an object. This object will be passed to comps as "),s("code",[t._v("props")]),t._v(". This mode gives a change to process the route as you like.")]),t._v(" "),s("h4",{attrs:{id:"passing-values-query"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#passing-values-query"}},[t._v("#")]),t._v(" passing values: query")]),t._v(" "),s("p",[s("code",[t._v("$route.query")]),t._v(" represents  the part between question mark  "),s("code",[t._v("?")]),t._v("  and hash symbol "),s("code",[t._v("#")]),t._v(". For instance, "),s("code",[t._v("?id=124")]),t._v(" will be passed to comp as "),s("code",[t._v("$route.query.id = '124'")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"passing-values-meta-field"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#passing-values-meta-field"}},[t._v("#")]),t._v(" passing values: meta field")]),t._v(" "),s("p",[t._v("This mode is related with a concept, route record. A route record is a route object config, including "),s("code",[t._v("children")]),t._v(" config. A route may match several route records like the father and its children route record. And these matches can be access to "),s("code",[t._v("$route.matched")]),t._v(" Array so that we could touch meta fields by iterating through the array.")]),t._v(" "),s("p",[t._v("In my eyes, navigation plays an unignorable part in a router module. In VR, navigation can be performed through a programmatic way or interface operation, which actually implemented by the former.")]),t._v(" "),s("h4",{attrs:{id:"programmatic-navigation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#programmatic-navigation"}},[t._v("#")]),t._v(" programmatic navigation")]),t._v(" "),s("p",[t._v("Basically,  it's made up with three methods: "),s("code",[t._v("$router.push")]),t._v(",  "),s("code",[t._v("$router.replace")]),t._v(",  "),s("code",[t._v("$router.go")]),t._v(".")]),t._v(" "),s("p",[t._v("Yes, guess you have figured it out that these three methods imitate the three methods of navigator: "),s("code",[t._v("window.history.push")]),t._v(",  "),s("code",[t._v("window.history.replace")]),t._v(", "),s("code",[t._v("window.history.go")]),t._v(". If you're familiar with them, it will be pretty simply to learn VR programmatic navigation.")]),t._v(" "),s("p",[t._v("There is a history stack storing  all the history navigation records. The "),s("code",[t._v("push")]),t._v(" method will get a history entry pushed into this stack, otherwise "),s("code",[t._v("replace")]),t._v(" won't..Though, two of them perform the same navigation from current url to another url.")]),t._v(" "),s("p",[s("code",[t._v("push")]),t._v(" and "),s("code",[t._v("replace")]),t._v(" methods both have two more callback functions as arguments besides location. One will be called when the navigation succeed, the other is triggered when it fail.")]),t._v(" "),s("p",[t._v("As for "),s("code",[t._v("go")]),t._v(", it helps when you want to jump to one record in history stack, backward or forward.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// go to the last record")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// go forward by 3 steps ")]),t._v("\n")])])]),s("h4",{attrs:{id:"redirect-and-alias"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redirect-and-alias"}},[t._v("#")]),t._v(" redirect and alias")]),t._v(" "),s("p",[t._v("Redirection is also configured in  path object.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" redirect"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/shaw'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Shoot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Alias is just another name for one path.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/shaw'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Shaw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" alias"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/hammer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("What's the difference?")]),t._v(" "),s("p",[t._v("Redirection is real navigation. Navigator performs it as a normal navigation applied by "),s("code",[t._v("replace")]),t._v(" method. But alias doesn't trigger a navigation. They both won't leave a trace in history stack.")]),t._v(" "),s("h4",{attrs:{id:"navigation-guards"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#navigation-guards"}},[t._v("#")]),t._v(" navigation guards")]),t._v(" "),s("p",[t._v("Well, this part deserves a single article. I'll leave it for the next or the next of the next post. Just in case, the former sentence doesn't mean anything.(crying while laughing emoji)")]),t._v(" "),s("p",[t._v("During the learning days, I produce a very small and very simple product: "),s("a",{attrs:{href:"https://github.com/EmmaYXY/vue-router-practise",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-router-practise"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("Basically, it contains several paragraghs to introduce VR and some interface operations to improve the taste of it. Welcome to fork it and create issues!")])])}),[],!1,null,null,null);a.default=r.exports}}]);